<!DOCTYPE html>
<meta charset="utf-8">
<style>

.link {
  stroke: #999;
  stroke-opacity: .6;
}

text {
  font: 10px sans-serif;
}

</style>
<body>
<script src="js/lib/d3.v3.min.js"></script>
<script src="js/lib/lodash.min.js"></script>
<script src="js/hydra.js"></script>
<script>

var graph = {
  "nodes" : [
    { name : "Coolgarif Tech\nData Focused Digital Agency", group : 1},
    { name : "Data Storage", group : 2},
    { name : "Data Processing", group : 2},
    { name : "Data Visualisation", group : 2},
    { name : "Data Publication", group : 2},
    { name : "Data Mining", group : 3},
    { name : "Data Analysis", group : 3},
    { name : "Graph Databases", group : 3},
    { name : "Data Store", group : 3},
    { name : "Natural Language Processing", group : 3},
    { name : "Linked Data", group : 3},
    { name : "Product Launch", group : 3},
    { name : "Research Visualisation", group : 3},
    { name : "Semantic Data Markup", group : 3},
    { name : "Public API Creation", group : 3}
  ],
  "links" : [
    { source : 0, target : 1, value : 1 },
    { source : 0, target : 2, value : 1 },
    { source : 0, target : 3, value : 1 },
    { source : 0, target : 4, value : 1 },
    { source : 1, target : 7, value : 1 },
    { source : 1, target : 8, value : 1 },
    { source : 2, target : 7, value : 1 },
    { source : 2, target : 5, value : 1 },
    { source : 2, target : 6, value : 1 },
    { source : 2, target : 9, value : 1 },
    { source : 2, target : 13, value : 1 },
    { source : 3, target : 11, value : 1 },
    { source : 3, target : 12, value : 1 },
    { source : 3, target : 7, value : 1 },
    { source : 3, target : 8, value : 1 },
    { source : 3, target : 6, value : 1 },
    { source : 3, target : 10, value : 1 },
    { source : 4, target : 13, value : 1 },
    { source : 4, target : 14, value : 1 },
    { source : 4, target : 10, value : 1 }
  ]
};

var CHARGE        = -300,
    LINK_DISTANCE =  150,
    WIDTH         =  600,
    HEIGHT        =  500,
    node,
    link;

var color = d3.scale.category20();

var force = d3.layout.force()
    .charge( CHARGE )
    .linkDistance( LINK_DISTANCE )
    .size([WIDTH, HEIGHT]);

var svg = d3.select("body").append("svg")
    .attr("width", WIDTH)
    .attr("height", HEIGHT);

force
    .nodes(graph.nodes)
    .links(graph.links)
    .start();

link = svg.selectAll(".link")
    .data(graph.links)
    .enter().append("line")
    .attr("class", "link")
    .style("stroke-width", "2");

node = svg.selectAll(".node")
    .data(graph.nodes)
    .enter().append("g")
    .attr("transform", "translate(" + (WIDTH/2) + "," + (HEIGHT/2) + ")" );

node.append("circle")
    .attr("class", "node")
    .attr("r", 25)
    .attr("cx", 0)
    .attr("cy", 0)
    .style("fill", function(d) { return color(d.group); })
    .call(force.drag);


force.on("tick", function() {

  link.attr("x1", function(d) { return d.source.x; })
      .attr("y1", function(d) { return d.source.y; })
      .attr("x2", function(d) { return d.target.x; })
      .attr("y2", function(d) { return d.target.y; });

  node.attr("transform", function(d) { return "translate(" + d.x + "," + d.y + ")"; });

});
</script>